<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE RecordWildCards, TypeSynonymInstances, FlexibleInstances #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">-- | Module for implementing CmdArgs helpers. A CmdArgs helper is an external program,</span><span>
</span><span id="line-4"></span><span class="hs-comment">--   that helps a user construct the command line arguments. To use a helper set the</span><span>
</span><span id="line-5"></span><span class="hs-comment">--   environment variable @$CMDARGS_HELPER@ (or @$CMDARGS_HELPER_/YOURPROGRAM/@) to</span><span>
</span><span id="line-6"></span><span class="hs-comment">--   one of:</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- * @echo /foo/@ will cause @/foo/@ to be used as the command arguments.</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- * @cmdargs-browser@ will cause a web browser to appear to help entering the arguments.</span><span>
</span><span id="line-11"></span><span class="hs-comment">--   For this command to work, you will need to install the @cmdargs-browser@ package:</span><span>
</span><span id="line-12"></span><span class="hs-comment">--   &lt;http://hackage.haskell.org/package/cmdargs-browser&gt;</span><span>
</span><span id="line-13"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">System.Console.CmdArgs.Helper</span><span class="hs-special">(</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Called by the main program</span></span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#execute"><span class="hs-identifier">execute</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Called by the helper program</span></span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Unknown"><span class="hs-identifier">Unknown</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#receive"><span class="hs-identifier">receive</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#reply"><span class="hs-identifier">reply</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#comment"><span class="hs-identifier">comment</span></a></span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- Should really be under Explicit, but want to export it top-level as Helper</span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html"><span class="hs-identifier">System.Console.CmdArgs.Explicit.Type</span></a></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.SplitJoin.html"><span class="hs-identifier">System.Console.CmdArgs.Explicit.SplitJoin</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Process</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Char</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.IORef</span></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Exit</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO.Unsafe</span></span><span>
</span><span id="line-33"></span><span>
</span><span id="line-34"></span><span>
</span><span id="line-35"></span><span id="hOut"><span class="annot"><span class="annottext">hOut :: Handle -&gt; String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#hOut"><span class="hs-identifier hs-var hs-var">hOut</span></a></span></span><span> </span><span id="local-6989586621679276646"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276646"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679276647"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276647"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStrLn</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276646"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276647"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hFlush</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276646"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="annot"><span class="hs-comment">-- | Run a remote command line entry.</span></span><span>
</span><span id="line-41"></span><span id="local-6989586621679276454"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#execute"><span class="hs-identifier hs-type">execute</span></a></span><span>
</span><span id="line-42"></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Name of the command to run, e.g. @echo argument@, @cmdargs-browser@</span></span><span>
</span><span id="line-43"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276454"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Mode to run remotely</span></span><span>
</span><span id="line-44"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-comment">-- ^ Initial set of command line flags (not supported by all helpers)</span></span><span>
</span><span id="line-45"></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Either an error message, or a list of flags to use</span></span><span>
</span><span id="line-46"></span><span id="execute"><span class="annot"><span class="annottext">execute :: forall a.
String -&gt; Mode a -&gt; [String] -&gt; IO (Either String [String])
</span><a href="System.Console.CmdArgs.Helper.html#execute"><span class="hs-identifier hs-var hs-var">execute</span></a></span></span><span> </span><span id="local-6989586621679276667"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276667"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679276668"><span class="annot"><span class="annottext">Mode a
</span><a href="#local-6989586621679276668"><span class="hs-identifier hs-var">mode</span></a></span></span><span> </span><span id="local-6989586621679276669"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679276669"><span class="hs-identifier hs-var">args</span></a></span></span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;echo&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; String -&gt; String
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">takeWhile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Char -&gt; Bool) -&gt; Char -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isSpace</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276667"><span class="hs-identifier hs-var">cmd</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either String [String] -&gt; IO (Either String [String])
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either String [String] -&gt; IO (Either String [String]))
-&gt; Either String [String] -&gt; IO (Either String [String])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; Either String [String]
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">([String] -&gt; Either String [String])
-&gt; [String] -&gt; Either String [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [String]
</span><a href="System.Console.CmdArgs.Explicit.SplitJoin.html#splitArgs"><span class="hs-identifier hs-var">splitArgs</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; [String]) -&gt; String -&gt; [String]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; String
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276667"><span class="hs-identifier hs-var">cmd</span></a></span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle
-&gt; BufferMode
-&gt; IO (Either String [String])
-&gt; IO (Either String [String])
forall {c}. Handle -&gt; BufferMode -&gt; IO c -&gt; IO c
</span><a href="System.Console.CmdArgs.Helper.html#withBuffering"><span class="hs-identifier hs-var">withBuffering</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stdout</span></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><span class="hs-identifier hs-var">NoBuffering</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either String [String]) -&gt; IO (Either String [String]))
-&gt; IO (Either String [String]) -&gt; IO (Either String [String])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-49"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679276679"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276679"><span class="hs-identifier hs-var">hin</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679276680"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276680"><span class="hs-identifier hs-var">hout</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Handle
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ProcessHandle
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">CreateProcess
-&gt; IO (Maybe Handle, Maybe Handle, Maybe Handle, ProcessHandle)
</span><span class="hs-identifier hs-var">createProcess</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; CreateProcess
</span><span class="hs-identifier hs-var">shell</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276667"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span class="hs-special">{</span><span class="annot"><span class="hs-identifier hs-var">std_in</span></span><span class="hs-glyph">=</span><span class="annot"><span class="hs-identifier hs-type">CreatePipe</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-var">std_out</span></span><span class="hs-glyph">=</span><span class="annot"><span class="hs-identifier hs-type">CreatePipe</span></span><span class="hs-special">}</span><span>
</span><span id="line-50"></span><span>        </span><span class="hs-comment">-- none of the buffering seems necessary in practice, but better safe than sorry</span><span>
</span><span id="line-51"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><span class="hs-identifier hs-var">hSetBuffering</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276679"><span class="hs-identifier hs-var">hin</span></a></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><span class="hs-identifier hs-var">LineBuffering</span></span><span>
</span><span id="line-52"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><span class="hs-identifier hs-var">hSetBuffering</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276680"><span class="hs-identifier hs-var">hout</span></a></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><span class="hs-identifier hs-var">LineBuffering</span></span><span>
</span><span id="line-53"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679276688"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276688"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679276689"><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="#local-6989586621679276689"><span class="hs-identifier hs-var">ans</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Mode a -&gt; IO (String, String -&gt; IO String)
forall a. Mode a -&gt; IO (String, String -&gt; IO String)
</span><a href="System.Console.CmdArgs.Helper.html#saveMode"><span class="hs-identifier hs-var">saveMode</span></a></span><span> </span><span class="annot"><span class="annottext">Mode a
</span><a href="#local-6989586621679276668"><span class="hs-identifier hs-var">mode</span></a></span><span>
</span><span id="line-54"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#hOut"><span class="hs-identifier hs-var">hOut</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276679"><span class="hs-identifier hs-var">hin</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276688"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-55"></span><span>        </span><span class="annot"><span class="annottext">(String -&gt; IO String)
-&gt; Handle -&gt; Handle -&gt; IO (Either String [String])
forall {b}.
Read b =&gt;
(String -&gt; IO String) -&gt; Handle -&gt; Handle -&gt; IO (Either String b)
</span><a href="#local-6989586621679276691"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="#local-6989586621679276689"><span class="hs-identifier hs-var">ans</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276679"><span class="hs-identifier hs-var">hin</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276680"><span class="hs-identifier hs-var">hout</span></a></span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-57"></span><span>        </span><span id="local-6989586621679276691"><span class="annot"><span class="annottext">loop :: (String -&gt; IO String) -&gt; Handle -&gt; Handle -&gt; IO (Either String b)
</span><a href="#local-6989586621679276691"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span id="local-6989586621679276709"><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="#local-6989586621679276709"><span class="hs-identifier hs-var">ans</span></a></span></span><span> </span><span id="local-6989586621679276710"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276710"><span class="hs-identifier hs-var">hin</span></a></span></span><span> </span><span id="local-6989586621679276711"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276711"><span class="hs-identifier hs-var">hout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-58"></span><span>            </span><span id="local-6989586621679276712"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO String
</span><span class="hs-identifier hs-var">hGetLine</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276711"><span class="hs-identifier hs-var">hout</span></a></span><span>
</span><span id="line-59"></span><span>            </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Result &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">then</span><span>
</span><span id="line-60"></span><span>                </span><span class="annot"><span class="annottext">Either String b -&gt; IO (Either String b)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either String b -&gt; IO (Either String b))
-&gt; Either String b -&gt; IO (Either String b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String b
forall a. Read a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either String b) -&gt; String -&gt; Either String b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; String
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-61"></span><span>             </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Send &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-62"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#hOut"><span class="hs-identifier hs-var">hOut</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276710"><span class="hs-identifier hs-var">hin</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; IO String -&gt; IO ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="#local-6989586621679276709"><span class="hs-identifier hs-var">ans</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; String -&gt; String
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>                </span><span class="annot"><span class="annottext">(String -&gt; IO String) -&gt; Handle -&gt; Handle -&gt; IO (Either String b)
</span><a href="#local-6989586621679276691"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="#local-6989586621679276709"><span class="hs-identifier hs-var">ans</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276710"><span class="hs-identifier hs-var">hin</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276711"><span class="hs-identifier hs-var">hout</span></a></span><span>
</span><span id="line-64"></span><span>             </span><span class="hs-keyword">else</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-65"></span><span>                </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#hOut"><span class="hs-identifier hs-var">hOut</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stdout</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-66"></span><span>                </span><span class="annot"><span class="annottext">(String -&gt; IO String) -&gt; Handle -&gt; Handle -&gt; IO (Either String b)
</span><a href="#local-6989586621679276691"><span class="hs-identifier hs-var">loop</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
</span><a href="#local-6989586621679276709"><span class="hs-identifier hs-var">ans</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276710"><span class="hs-identifier hs-var">hin</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276711"><span class="hs-identifier hs-var">hout</span></a></span><span>
</span><span id="line-67"></span><span>             </span><span class="hs-keyword">else</span><span>
</span><span id="line-68"></span><span>                </span><span class="annot"><span class="annottext">Either String b -&gt; IO (Either String b)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either String b -&gt; IO (Either String b))
-&gt; Either String b -&gt; IO (Either String b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Either String b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Either String b) -&gt; String -&gt; Either String b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Unexpected message from program: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276712"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span id="withBuffering"><span class="annot"><span class="annottext">withBuffering :: Handle -&gt; BufferMode -&gt; IO c -&gt; IO c
</span><a href="System.Console.CmdArgs.Helper.html#withBuffering"><span class="hs-identifier hs-var hs-var">withBuffering</span></a></span></span><span> </span><span id="local-6989586621679276721"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276721"><span class="hs-identifier hs-var">hndl</span></a></span></span><span> </span><span id="local-6989586621679276722"><span class="annot"><span class="annottext">BufferMode
</span><a href="#local-6989586621679276722"><span class="hs-identifier hs-var">mode</span></a></span></span><span> </span><span id="local-6989586621679276723"><span class="annot"><span class="annottext">IO c
</span><a href="#local-6989586621679276723"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO BufferMode
-&gt; (BufferMode -&gt; IO ()) -&gt; (BufferMode -&gt; IO c) -&gt; IO c
forall a b c. IO a -&gt; (a -&gt; IO b) -&gt; (a -&gt; IO c) -&gt; IO c
</span><span class="hs-identifier hs-var">bracket</span></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">(</span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679276725"><span class="annot"><span class="annottext">BufferMode
</span><a href="#local-6989586621679276725"><span class="hs-identifier hs-var">old</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO BufferMode
</span><span class="hs-identifier hs-var">hGetBuffering</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276721"><span class="hs-identifier hs-var">hndl</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><span class="hs-identifier hs-var">hSetBuffering</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276721"><span class="hs-identifier hs-var">hndl</span></a></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><a href="#local-6989586621679276722"><span class="hs-identifier hs-var">mode</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">BufferMode -&gt; IO BufferMode
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><a href="#local-6989586621679276725"><span class="hs-identifier hs-var">old</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><span class="hs-identifier hs-var">hSetBuffering</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679276721"><span class="hs-identifier hs-var">hndl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO c -&gt; BufferMode -&gt; IO c
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">IO c
</span><a href="#local-6989586621679276723"><span class="hs-identifier hs-var">act</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-comment">-- | Unknown value, representing the values stored within the 'Mode' structure. While the values</span><span>
</span><span id="line-78"></span><span class="hs-comment">--   are not observable, they behave identically to the original values.</span><span>
</span><span id="line-79"></span><span class="hs-keyword">newtype</span><span> </span><span id="Unknown"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Unknown"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span></span><span> </span><span class="hs-special">{</span><span id="fromUnknown"><span class="annot"><span class="annottext">Unknown -&gt; Value
</span><a href="System.Console.CmdArgs.Helper.html#fromUnknown"><span class="hs-identifier hs-var hs-var">fromUnknown</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-comment">-- wrap Value so the Pack instance doesn't leak</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span class="annot"><span class="hs-comment">-- | Receive information about the mode to display.</span></span><span>
</span><span id="line-83"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#receive"><span class="hs-identifier hs-type">receive</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Unknown"><span class="hs-identifier hs-type">Unknown</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span id="receive"><span class="annot"><span class="annottext">receive :: IO (Mode Unknown)
</span><a href="System.Console.CmdArgs.Helper.html#receive"><span class="hs-identifier hs-var hs-var">receive</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-85"></span><span>    </span><span id="local-6989586621679276731"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276731"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String
</span><span class="hs-identifier hs-var">getLine</span></span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">Mode Unknown -&gt; IO (Mode Unknown)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Mode Unknown -&gt; IO (Mode Unknown))
-&gt; Mode Unknown -&gt; IO (Mode Unknown)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Unknown)
-&gt; (Unknown -&gt; Value) -&gt; Mode Value -&gt; Mode Unknown
forall (m :: * -&gt; *) a b.
Remap m =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; m a -&gt; m b
</span><a href="System.Console.CmdArgs.Explicit.Type.html#remap2"><span class="hs-identifier hs-var">remap2</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Unknown
</span><a href="System.Console.CmdArgs.Helper.html#Unknown"><span class="hs-identifier hs-var">Unknown</span></a></span><span> </span><span class="annot"><span class="annottext">Unknown -&gt; Value
</span><a href="System.Console.CmdArgs.Helper.html#fromUnknown"><span class="hs-identifier hs-var">fromUnknown</span></a></span><span> </span><span class="annot"><span class="annottext">(Mode Value -&gt; Mode Unknown) -&gt; Mode Value -&gt; Mode Unknown
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; (String -&gt; String) -&gt; Mode Value
</span><a href="System.Console.CmdArgs.Helper.html#loadMode"><span class="hs-identifier hs-var">loadMode</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276731"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">((String -&gt; String) -&gt; Mode Value)
-&gt; (String -&gt; String) -&gt; Mode Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679276735"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276735"><span class="hs-identifier hs-var">msg</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO String -&gt; String
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO String -&gt; String) -&gt; IO String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#hOut"><span class="hs-identifier hs-var">hOut</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stdout</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Send &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276735"><span class="hs-identifier hs-var">msg</span></a></span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><span class="annottext">IO String
</span><span class="hs-identifier hs-var">getLine</span></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><span class="hs-comment">-- | Send a reply with either an error, or a list of flags to use. This function exits the helper program.</span></span><span>
</span><span id="line-92"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#reply"><span class="hs-identifier hs-type">reply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-93"></span><span id="reply"><span class="annot"><span class="annottext">reply :: Either String [String] -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#reply"><span class="hs-identifier hs-var hs-var">reply</span></a></span></span><span> </span><span id="local-6989586621679276737"><span class="annot"><span class="annottext">Either String [String]
</span><a href="#local-6989586621679276737"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#hOut"><span class="hs-identifier hs-var">hOut</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stdout</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Result &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Either String [String] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Either String [String]
</span><a href="#local-6989586621679276737"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="annottext">ExitCode -&gt; IO ()
forall a. ExitCode -&gt; IO a
</span><span class="hs-identifier hs-var">exitWith</span></span><span> </span><span class="annot"><span class="annottext">ExitCode
</span><span class="hs-identifier hs-var">ExitSuccess</span></span><span>
</span><span id="line-96"></span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="annot"><span class="hs-comment">-- | Send a comment which will be displayed on the calling console, mainly useful for debugging.</span></span><span>
</span><span id="line-99"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#comment"><span class="hs-identifier hs-type">comment</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span id="comment"><span class="annot"><span class="annottext">comment :: String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#comment"><span class="hs-identifier hs-var hs-var">comment</span></a></span></span><span> </span><span id="local-6989586621679276740"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276740"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><a href="System.Console.CmdArgs.Helper.html#hOut"><span class="hs-identifier hs-var">hOut</span></a></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stdout</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;# &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276740"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">---------------------------------------------------------------------</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- IO MAP</span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-keyword">data</span><span> </span><span id="IOMap"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-var">IOMap</span></a></span></span><span> </span><span id="local-6989586621679276506"><span class="annot"><a href="#local-6989586621679276506"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="IOMap"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-var">IOMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">IORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679276506"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span id="local-6989586621679276499"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#newIOMap"><span class="hs-identifier hs-type">newIOMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-type">IOMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276499"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-109"></span><span id="newIOMap"><span class="annot"><span class="annottext">newIOMap :: forall a. IO (IOMap a)
</span><a href="System.Console.CmdArgs.Helper.html#newIOMap"><span class="hs-identifier hs-var hs-var">newIOMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(IORef (Int, [(Int, a)]) -&gt; IOMap a)
-&gt; IO (IORef (Int, [(Int, a)])) -&gt; IO (IOMap a)
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">IORef (Int, [(Int, a)]) -&gt; IOMap a
forall a. IORef (Int, [(Int, a)]) -&gt; IOMap a
</span><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-var">IOMap</span></a></span><span> </span><span class="annot"><span class="annottext">(IO (IORef (Int, [(Int, a)])) -&gt; IO (IOMap a))
-&gt; IO (IORef (Int, [(Int, a)])) -&gt; IO (IOMap a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int, [(Int, a)]) -&gt; IO (IORef (Int, [(Int, a)]))
forall a. a -&gt; IO (IORef a)
</span><span class="hs-identifier hs-var">newIORef</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span id="local-6989586621679276509"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#addIOMap"><span class="hs-identifier hs-type">addIOMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-type">IOMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276509"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679276509"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span></span><span>
</span><span id="line-112"></span><span id="addIOMap"><span class="annot"><span class="annottext">addIOMap :: forall a. IOMap a -&gt; a -&gt; IO Int
</span><a href="System.Console.CmdArgs.Helper.html#addIOMap"><span class="hs-identifier hs-var hs-var">addIOMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-type">IOMap</span></a></span><span> </span><span id="local-6989586621679276747"><span class="annot"><span class="annottext">IORef (Int, [(Int, a)])
</span><a href="#local-6989586621679276747"><span class="hs-identifier hs-var">ref</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679276748"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276748"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IORef (Int, [(Int, a)])
-&gt; ((Int, [(Int, a)]) -&gt; ((Int, [(Int, a)]), Int)) -&gt; IO Int
forall a b. IORef a -&gt; (a -&gt; (a, b)) -&gt; IO b
</span><span class="hs-identifier hs-var">atomicModifyIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (Int, [(Int, a)])
</span><a href="#local-6989586621679276747"><span class="hs-identifier hs-var">ref</span></a></span><span> </span><span class="annot"><span class="annottext">(((Int, [(Int, a)]) -&gt; ((Int, [(Int, a)]), Int)) -&gt; IO Int)
-&gt; ((Int, [(Int, a)]) -&gt; ((Int, [(Int, a)]), Int)) -&gt; IO Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679276750"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276750"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679276751"><span class="annot"><span class="annottext">[(Int, a)]
</span><a href="#local-6989586621679276751"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679276755"><span class="annot"><span class="annottext">j :: Int
</span><a href="#local-6989586621679276755"><span class="hs-identifier hs-var hs-var">j</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276750"><span class="hs-identifier hs-var">i</span></a></span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276755"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">,</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276755"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276748"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span class="annot"><span class="annottext">(Int, a) -&gt; [(Int, a)] -&gt; [(Int, a)]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[(Int, a)]
</span><a href="#local-6989586621679276751"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276755"><span class="hs-identifier hs-var">j</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span id="local-6989586621679276514"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#getIOMap"><span class="hs-identifier hs-type">getIOMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-type">IOMap</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276514"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621679276514"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-115"></span><span id="getIOMap"><span class="annot"><span class="annottext">getIOMap :: forall a. IOMap a -&gt; Int -&gt; IO a
</span><a href="System.Console.CmdArgs.Helper.html#getIOMap"><span class="hs-identifier hs-var hs-var">getIOMap</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-type">IOMap</span></a></span><span> </span><span id="local-6989586621679276764"><span class="annot"><span class="annottext">IORef (Int, [(Int, a)])
</span><a href="#local-6989586621679276764"><span class="hs-identifier hs-var">ref</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679276765"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276765"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span id="local-6989586621679276766"><span class="annot"><span class="annottext">[(Int, a)]
</span><a href="#local-6989586621679276766"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IORef (Int, [(Int, a)]) -&gt; IO (Int, [(Int, a)])
forall a. IORef a -&gt; IO a
</span><span class="hs-identifier hs-var">readIORef</span></span><span> </span><span class="annot"><span class="annottext">IORef (Int, [(Int, a)])
</span><a href="#local-6989586621679276764"><span class="hs-identifier hs-var">ref</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">a -&gt; IO a
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; IO a) -&gt; a -&gt; IO a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; a
forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; a) -&gt; Maybe a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [(Int, a)] -&gt; Maybe a
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">lookup</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276765"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">[(Int, a)]
</span><a href="#local-6989586621679276766"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-116"></span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">---------------------------------------------------------------------</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- SERIALISE A MODE</span><span>
</span><span id="line-120"></span><span>
</span><span id="line-121"></span><span class="hs-keyword">newtype</span><span> </span><span id="Value"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-var">Value</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Value"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-var">Value</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span>
</span><span id="line-124"></span><span class="hs-pragma">{-# NOINLINE</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#toValue"><span class="hs-pragma hs-type">toValue</span></a></span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-125"></span><span id="local-6989586621679276521"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#toValue"><span class="hs-identifier hs-type">toValue</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276521"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-type">Value</span></a></span></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- fairly safe, use of a table and pointers from one process to another, but referentially transparent</span><span>
</span><span id="line-127"></span><span id="toValue"><span class="annot"><span class="annottext">toValue :: forall a. Mode a -&gt; Mode Value
</span><a href="System.Console.CmdArgs.Helper.html#toValue"><span class="hs-identifier hs-var hs-var">toValue</span></a></span></span><span> </span><span id="local-6989586621679276775"><span class="annot"><span class="annottext">Mode a
</span><a href="#local-6989586621679276775"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Mode Value) -&gt; Mode Value
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Mode Value) -&gt; Mode Value) -&gt; IO (Mode Value) -&gt; Mode Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-128"></span><span>    </span><span class="hs-comment">-- the ref accumulates, so is a space leak</span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-comment">-- but it will all disappear after the helper goes, so not too much of an issue</span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679276776"><span class="annot"><span class="annottext">IOMap a
</span><a href="#local-6989586621679276776"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (IOMap a)
forall a. IO (IOMap a)
</span><a href="System.Console.CmdArgs.Helper.html#newIOMap"><span class="hs-identifier hs-var">newIOMap</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679276778"><span class="annot"><span class="annottext">embed :: a -&gt; Value
</span><a href="#local-6989586621679276778"><span class="hs-identifier hs-var hs-var">embed</span></a></span></span><span> </span><span id="local-6989586621679276779"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276779"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO Value -&gt; Value
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO Value -&gt; Value) -&gt; IO Value -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Value) -&gt; IO Int -&gt; IO Value
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
</span><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="annot"><span class="annottext">(IO Int -&gt; IO Value) -&gt; IO Int -&gt; IO Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IOMap a -&gt; a -&gt; IO Int
forall a. IOMap a -&gt; a -&gt; IO Int
</span><a href="System.Console.CmdArgs.Helper.html#addIOMap"><span class="hs-identifier hs-var">addIOMap</span></a></span><span> </span><span class="annot"><span class="annottext">IOMap a
</span><a href="#local-6989586621679276776"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276779"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-132"></span><span>        </span><span id="local-6989586621679276780"><span class="annot"><span class="annottext">proj :: Value -&gt; a
</span><a href="#local-6989586621679276780"><span class="hs-identifier hs-var hs-var">proj</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span id="local-6989586621679276781"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276781"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO a -&gt; a
forall a. IO a -&gt; a
</span><span class="hs-identifier hs-var">unsafePerformIO</span></span><span> </span><span class="annot"><span class="annottext">(IO a -&gt; a) -&gt; IO a -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IOMap a -&gt; Int -&gt; IO a
forall a. IOMap a -&gt; Int -&gt; IO a
</span><a href="System.Console.CmdArgs.Helper.html#getIOMap"><span class="hs-identifier hs-var">getIOMap</span></a></span><span> </span><span class="annot"><span class="annottext">IOMap a
</span><a href="#local-6989586621679276776"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276781"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="annottext">Mode Value -&gt; IO (Mode Value)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Mode Value -&gt; IO (Mode Value)) -&gt; Mode Value -&gt; IO (Mode Value)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Value) -&gt; (Value -&gt; a) -&gt; Mode a -&gt; Mode Value
forall (m :: * -&gt; *) a b.
Remap m =&gt;
(a -&gt; b) -&gt; (b -&gt; a) -&gt; m a -&gt; m b
</span><a href="System.Console.CmdArgs.Explicit.Type.html#remap2"><span class="hs-identifier hs-var">remap2</span></a></span><span> </span><span class="annot"><span class="annottext">a -&gt; Value
</span><a href="#local-6989586621679276778"><span class="hs-identifier hs-var">embed</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; a
</span><a href="#local-6989586621679276780"><span class="hs-identifier hs-var">proj</span></a></span><span> </span><span class="annot"><span class="annottext">Mode a
</span><a href="#local-6989586621679276775"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span>
</span><span id="line-136"></span><span id="local-6989586621679276476"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#saveMode"><span class="hs-identifier hs-type">saveMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276476"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-comment">-- (value, ask questions from stdin)</span><span>
</span><span id="line-137"></span><span id="saveMode"><span class="annot"><span class="annottext">saveMode :: forall a. Mode a -&gt; IO (String, String -&gt; IO String)
</span><a href="System.Console.CmdArgs.Helper.html#saveMode"><span class="hs-identifier hs-var hs-var">saveMode</span></a></span></span><span> </span><span id="local-6989586621679276798"><span class="annot"><span class="annottext">Mode a
</span><a href="#local-6989586621679276798"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621679276799"><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276799"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (IOMap (Pack -&gt; Pack))
forall a. IO (IOMap a)
</span><a href="System.Console.CmdArgs.Helper.html#newIOMap"><span class="hs-identifier hs-var">newIOMap</span></a></span><span>
</span><span id="line-139"></span><span>    </span><span id="local-6989586621679276800"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276800"><span class="hs-identifier hs-var">res</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack) -&gt; Pack -&gt; IO Pack
</span><a href="#local-6989586621679276801"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276799"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; IO Pack) -&gt; Pack -&gt; IO Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Mode Value -&gt; Pack
forall a. Packer a =&gt; a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(Mode Value -&gt; Pack) -&gt; Mode Value -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Mode a -&gt; Mode Value
forall a. Mode a -&gt; Mode Value
</span><a href="System.Console.CmdArgs.Helper.html#toValue"><span class="hs-identifier hs-var">toValue</span></a></span><span> </span><span class="annot"><span class="annottext">Mode a
</span><a href="#local-6989586621679276798"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><span class="annottext">(String, String -&gt; IO String) -&gt; IO (String, String -&gt; IO String)
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">((String, String -&gt; IO String) -&gt; IO (String, String -&gt; IO String))
-&gt; (String, String -&gt; IO String)
-&gt; IO (String, String -&gt; IO String)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pack -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276800"><span class="hs-identifier hs-var">res</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; String) -&gt; IO Pack -&gt; IO String
forall a b. (a -&gt; b) -&gt; IO a -&gt; IO b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">(IO Pack -&gt; IO String)
-&gt; (String -&gt; IO Pack) -&gt; String -&gt; IO String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack) -&gt; (Int, Pack) -&gt; IO Pack
</span><a href="#local-6989586621679276803"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276799"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">((Int, Pack) -&gt; IO Pack)
-&gt; (String -&gt; (Int, Pack)) -&gt; String -&gt; IO Pack
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; (Int, Pack)
forall a. Read a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span class="hs-special">)</span><span>
</span><span id="line-141"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-142"></span><span>        </span><span class="annot"><a href="#local-6989586621679276801"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-type">IOMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span>
</span><span id="line-143"></span><span>        </span><span id="local-6989586621679276801"><span class="annot"><span class="annottext">add :: IOMap (Pack -&gt; Pack) -&gt; Pack -&gt; IO Pack
</span><a href="#local-6989586621679276801"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621679276804"><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276804"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span id="local-6989586621679276805"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276805"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Pack -&gt; IO Pack) -&gt; Pack -&gt; IO Pack)
-&gt; Pack -&gt; (Pack -&gt; IO Pack) -&gt; IO Pack
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; IO Pack) -&gt; Pack -&gt; IO Pack
forall (m :: * -&gt; *). Monad m =&gt; (Pack -&gt; m Pack) -&gt; Pack -&gt; m Pack
</span><a href="System.Console.CmdArgs.Helper.html#transformM"><span class="hs-identifier hs-var">transformM</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276805"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">((Pack -&gt; IO Pack) -&gt; IO Pack) -&gt; (Pack -&gt; IO Pack) -&gt; IO Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679276808"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276808"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276808"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-144"></span><span>            </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Func"><span class="hs-identifier hs-type">Func</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-type">NoShow</span></a></span><span> </span><span id="local-6989586621679276811"><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276811"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679276812"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276812"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack) -&gt; (Pack -&gt; Pack) -&gt; IO Int
forall a. IOMap a -&gt; a -&gt; IO Int
</span><a href="System.Console.CmdArgs.Helper.html#addIOMap"><span class="hs-identifier hs-var">addIOMap</span></a></span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276804"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276811"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">;</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; IO Pack
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; IO Pack) -&gt; Pack -&gt; IO Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#FuncId"><span class="hs-identifier hs-var">FuncId</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276812"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-145"></span><span>            </span><span id="local-6989586621679276814"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276814"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; IO Pack
forall a. a -&gt; IO a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276814"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-146"></span><span>
</span><span id="line-147"></span><span>        </span><span class="annot"><a href="#local-6989586621679276803"><span class="hs-identifier hs-type">get</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#IOMap"><span class="hs-identifier hs-type">IOMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span>
</span><span id="line-148"></span><span>        </span><span id="local-6989586621679276803"><span class="annot"><span class="annottext">get :: IOMap (Pack -&gt; Pack) -&gt; (Int, Pack) -&gt; IO Pack
</span><a href="#local-6989586621679276803"><span class="hs-identifier hs-var hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679276815"><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276815"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679276816"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276816"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679276817"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276817"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-149"></span><span>            </span><span id="local-6989586621679276818"><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276818"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack) -&gt; Int -&gt; IO (Pack -&gt; Pack)
forall a. IOMap a -&gt; Int -&gt; IO a
</span><a href="System.Console.CmdArgs.Helper.html#getIOMap"><span class="hs-identifier hs-var">getIOMap</span></a></span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276815"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276816"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-150"></span><span>            </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack) -&gt; Pack -&gt; IO Pack
</span><a href="#local-6989586621679276801"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">IOMap (Pack -&gt; Pack)
</span><a href="#local-6989586621679276815"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; IO Pack) -&gt; Pack -&gt; IO Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276818"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276817"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#loadMode"><span class="hs-identifier hs-type">loadMode</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-comment">-- given serialised, question asker, give me a value</span><span>
</span><span id="line-154"></span><span id="loadMode"><span class="annot"><span class="annottext">loadMode :: String -&gt; (String -&gt; String) -&gt; Mode Value
</span><a href="System.Console.CmdArgs.Helper.html#loadMode"><span class="hs-identifier hs-var hs-var">loadMode</span></a></span></span><span> </span><span id="local-6989586621679276819"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276819"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679276820"><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621679276820"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Mode Value
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Mode Value) -&gt; Pack -&gt; Mode Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276822"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; Pack -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack
forall a. Read a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276819"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-155"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-156"></span><span>        </span><span class="annot"><a href="#local-6989586621679276822"><span class="hs-identifier hs-type">rep</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span>
</span><span id="line-157"></span><span>        </span><span id="local-6989586621679276822"><span class="annot"><span class="annottext">rep :: Pack -&gt; Pack
</span><a href="#local-6989586621679276822"><span class="hs-identifier hs-var hs-var">rep</span></a></span></span><span> </span><span id="local-6989586621679276823"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276823"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((Pack -&gt; Pack) -&gt; Pack -&gt; Pack) -&gt; Pack -&gt; (Pack -&gt; Pack) -&gt; Pack
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; Pack -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#transform"><span class="hs-identifier hs-var">transform</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276823"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">((Pack -&gt; Pack) -&gt; Pack) -&gt; (Pack -&gt; Pack) -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679276825"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276825"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276825"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-158"></span><span>            </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#FuncId"><span class="hs-identifier hs-type">FuncId</span></a></span><span> </span><span id="local-6989586621679276826"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276826"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">NoShow (Pack -&gt; Pack) -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Func"><span class="hs-identifier hs-var">Func</span></a></span><span> </span><span class="annot"><span class="annottext">(NoShow (Pack -&gt; Pack) -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack) -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack)
forall a. a -&gt; NoShow a
</span><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-var">NoShow</span></a></span><span> </span><span class="annot"><span class="annottext">((Pack -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack))
-&gt; (Pack -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679276827"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276827"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276822"><span class="hs-identifier hs-var">rep</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; Pack -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack
forall a. Read a =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Pack) -&gt; String -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
</span><a href="#local-6989586621679276820"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Int, Pack) -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679276826"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276827"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>            </span><span id="local-6989586621679276828"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276828"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276828"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-comment">-- Support data types</span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-keyword">data</span><span> </span><span id="Pack"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-var">Pack</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Ctor"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-165"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="List"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#List"><span class="hs-identifier hs-var">List</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-166"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="Char"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Char"><span class="hs-identifier hs-var">Char</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span>
</span><span id="line-167"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="Int"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Int"><span class="hs-identifier hs-var">Int</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-168"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="Func"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Func"><span class="hs-identifier hs-var">Func</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-type">NoShow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="FuncId"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#FuncId"><span class="hs-identifier hs-var">FuncId</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-comment">-- Never passed to pack/unpack, always transfromed away by saveMode/loadMode</span><span>
</span><span id="line-170"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="String"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#String"><span class="hs-identifier hs-var">String</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-171"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="None"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#None"><span class="hs-identifier hs-var">None</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Never generated, only used for reading in bad cases</span></span><span>
</span><span id="line-172"></span><span>            </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679276836"><span id="local-6989586621679276856"><span id="local-6989586621679276859"><span class="annot"><span class="annottext">Int -&gt; Pack -&gt; String -&gt; String
[Pack] -&gt; String -&gt; String
Pack -&gt; String
(Int -&gt; Pack -&gt; String -&gt; String)
-&gt; (Pack -&gt; String) -&gt; ([Pack] -&gt; String -&gt; String) -&gt; Show Pack
forall a.
(Int -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
$cshowsPrec :: Int -&gt; Pack -&gt; String -&gt; String
showsPrec :: Int -&gt; Pack -&gt; String -&gt; String
$cshow :: Pack -&gt; String
show :: Pack -&gt; String
$cshowList :: [Pack] -&gt; String -&gt; String
showList :: [Pack] -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679276863"><span id="local-6989586621679276866"><span id="local-6989586621679276869"><span id="local-6989586621679276907"><span class="annot"><span class="annottext">ReadPrec [Pack]
ReadPrec Pack
Int -&gt; ReadS Pack
ReadS [Pack]
(Int -&gt; ReadS Pack)
-&gt; ReadS [Pack] -&gt; ReadPrec Pack -&gt; ReadPrec [Pack] -&gt; Read Pack
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Pack
readsPrec :: Int -&gt; ReadS Pack
$creadList :: ReadS [Pack]
readList :: ReadS [Pack]
$creadPrec :: ReadPrec Pack
readPrec :: ReadPrec Pack
$creadListPrec :: ReadPrec [Pack]
readListPrec :: ReadPrec [Pack]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-keyword">newtype</span><span> </span><span id="NoShow"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-var">NoShow</span></a></span></span><span> </span><span id="local-6989586621679276532"><span class="annot"><a href="#local-6989586621679276532"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoShow"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-var">NoShow</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679276532"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-175"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276533"><span id="local-6989586621679276912"><span id="local-6989586621679276915"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-type">NoShow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276533"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679276919"><span class="annot"><span class="annottext">showsPrec :: Int -&gt; NoShow a -&gt; String -&gt; String
</span><a href="#local-6989586621679276919"><span class="hs-identifier hs-var hs-var hs-var hs-var">showsPrec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; NoShow a -&gt; String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot show value of type NoShow&quot;</span></span><span>
</span><span id="line-176"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276537"><span id="local-6989586621679276924"><span id="local-6989586621679276927"><span id="local-6989586621679276930"><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-type">NoShow</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276537"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679276934"><span class="annot"><span class="annottext">readsPrec :: Int -&gt; ReadS (NoShow a)
</span><a href="#local-6989586621679276934"><span class="hs-identifier hs-var hs-var hs-var hs-var">readsPrec</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Int -&gt; ReadS (NoShow a)
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cannot read value of type NoShow&quot;</span></span><span>
</span><span id="line-177"></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span id="local-6989586621679276530"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#transformM"><span class="hs-identifier hs-type">transformM</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#descendM"><span class="hs-identifier hs-type">descendM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679276530"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679276530"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679276530"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span></span><span>
</span><span id="line-180"></span><span id="transformM"><span class="annot"><span class="annottext">transformM :: forall (m :: * -&gt; *). Monad m =&gt; (Pack -&gt; m Pack) -&gt; Pack -&gt; m Pack
</span><a href="System.Console.CmdArgs.Helper.html#transformM"><span class="hs-identifier hs-var hs-var">transformM</span></a></span></span><span> </span><span id="local-6989586621679276941"><span class="annot"><span class="annottext">Pack -&gt; m Pack
</span><a href="#local-6989586621679276941"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679276942"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276942"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; m Pack
</span><a href="#local-6989586621679276941"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; m Pack) -&gt; m Pack -&gt; m Pack
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; m Pack) -&gt; Pack -&gt; m Pack
forall (m :: * -&gt; *). Monad m =&gt; (Pack -&gt; m Pack) -&gt; Pack -&gt; m Pack
</span><a href="System.Console.CmdArgs.Helper.html#descendM"><span class="hs-identifier hs-var">descendM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pack -&gt; m Pack) -&gt; Pack -&gt; m Pack
forall (m :: * -&gt; *). Monad m =&gt; (Pack -&gt; m Pack) -&gt; Pack -&gt; m Pack
</span><a href="System.Console.CmdArgs.Helper.html#transformM"><span class="hs-identifier hs-var">transformM</span></a></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; m Pack
</span><a href="#local-6989586621679276941"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276942"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-181"></span><span id="descendM"><span class="annot"><span class="annottext">descendM :: forall (m :: * -&gt; *). Monad m =&gt; (Pack -&gt; m Pack) -&gt; Pack -&gt; m Pack
</span><a href="System.Console.CmdArgs.Helper.html#descendM"><span class="hs-identifier hs-var hs-var">descendM</span></a></span></span><span> </span><span id="local-6989586621679276948"><span class="annot"><span class="annottext">Pack -&gt; m Pack
</span><a href="#local-6989586621679276948"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679276949"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276949"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679276950"><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276950"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679276951"><span class="annot"><span class="annottext">[Pack] -&gt; Pack
</span><a href="#local-6989586621679276951"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; ([Pack], [Pack] -&gt; Pack)
</span><a href="System.Console.CmdArgs.Helper.html#uniplate"><span class="hs-identifier hs-var">uniplate</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276949"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">([Pack] -&gt; Pack) -&gt; m [Pack] -&gt; m Pack
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">[Pack] -&gt; Pack
</span><a href="#local-6989586621679276951"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">(m [Pack] -&gt; m Pack) -&gt; m [Pack] -&gt; m Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; m Pack) -&gt; [Pack] -&gt; m [Pack]
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; m Pack
</span><a href="#local-6989586621679276948"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276950"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#transform"><span class="hs-identifier hs-type">transform</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#descend"><span class="hs-identifier hs-type">descend</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span>
</span><span id="line-184"></span><span id="transform"><span class="annot"><span class="annottext">transform :: (Pack -&gt; Pack) -&gt; Pack -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#transform"><span class="hs-identifier hs-var hs-var">transform</span></a></span></span><span> </span><span id="local-6989586621679276956"><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276956"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276956"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; (Pack -&gt; Pack) -&gt; Pack -&gt; Pack
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; Pack -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#descend"><span class="hs-identifier hs-var">descend</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; Pack -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#transform"><span class="hs-identifier hs-var">transform</span></a></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276956"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span id="descend"><span class="annot"><span class="annottext">descend :: (Pack -&gt; Pack) -&gt; Pack -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#descend"><span class="hs-identifier hs-var hs-var">descend</span></a></span></span><span> </span><span id="local-6989586621679276957"><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276957"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679276958"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276958"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679276959"><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276959"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679276960"><span class="annot"><span class="annottext">[Pack] -&gt; Pack
</span><a href="#local-6989586621679276960"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; ([Pack], [Pack] -&gt; Pack)
</span><a href="System.Console.CmdArgs.Helper.html#uniplate"><span class="hs-identifier hs-var">uniplate</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276958"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">[Pack] -&gt; Pack
</span><a href="#local-6989586621679276960"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">([Pack] -&gt; Pack) -&gt; [Pack] -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; [Pack] -&gt; [Pack]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679276957"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276959"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#uniplate"><span class="hs-identifier hs-type">uniplate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-188"></span><span id="uniplate"><span class="annot"><span class="annottext">uniplate :: Pack -&gt; ([Pack], [Pack] -&gt; Pack)
</span><a href="System.Console.CmdArgs.Helper.html#uniplate"><span class="hs-identifier hs-var hs-var">uniplate</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span id="local-6989586621679276961"><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276961"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276961"><span class="hs-identifier hs-var">xs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Pack] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#List"><span class="hs-identifier hs-var">List</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#uniplate"><span class="hs-identifier hs-var">uniplate</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-type">Ctor</span></a></span><span> </span><span id="local-6989586621679276962"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276962"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679276963"><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679276963"><span class="hs-identifier hs-var">ys</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, Pack) -&gt; Pack) -&gt; [(String, Pack)] -&gt; [Pack]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(String, Pack) -&gt; Pack
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679276963"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276962"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">([(String, Pack)] -&gt; Pack)
-&gt; ([Pack] -&gt; [(String, Pack)]) -&gt; [Pack] -&gt; Pack
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; [Pack] -&gt; [(String, Pack)]
forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">((String, Pack) -&gt; String) -&gt; [(String, Pack)] -&gt; [String]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">(String, Pack) -&gt; String
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679276963"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-190"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#uniplate"><span class="hs-identifier hs-var">uniplate</span></a></span><span> </span><span id="local-6989586621679276966"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276966"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; [Pack] -&gt; Pack
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679276966"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-191"></span><span>
</span><span id="line-192"></span><span>
</span><span id="line-193"></span><span class="hs-keyword">class</span><span> </span><span id="Packer"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-var">Packer</span></a></span></span><span> </span><span id="local-6989586621679276526"><span class="annot"><a href="#local-6989586621679276526"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-194"></span><span>    </span><span id="pack"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-type">pack</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679276526"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span>
</span><span id="line-195"></span><span>    </span><span id="unpack"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-type">unpack</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Pack"><span class="hs-identifier hs-type">Pack</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679276526"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-196"></span><span>
</span><span id="line-197"></span><span id="add"><span class="annot"><span class="annottext">add :: a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621679276970"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276970"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679276971"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276971"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276970"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">a -&gt; Pack
forall a. Packer a =&gt; a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276971"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span id="ctor"><span class="annot"><span class="annottext">ctor :: String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var hs-var">ctor</span></a></span></span><span> </span><span id="local-6989586621679276975"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276975"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-type">Ctor</span></a></span><span> </span><span id="local-6989586621679276976"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276976"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679276977"><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679276977"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276975"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679276976"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679276977"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-199"></span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-200"></span><span id="get"><span class="annot"><span class="annottext">get :: a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var hs-var">get</span></a></span></span><span> </span><span id="local-6989586621679276983"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276983"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679276984"><span class="annot"><span class="annottext">[(a, Pack)]
</span><a href="#local-6989586621679276984"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; a
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; a) -&gt; Pack -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Maybe Pack -&gt; Pack
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="System.Console.CmdArgs.Helper.html#None"><span class="hs-identifier hs-var">None</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Pack -&gt; Pack) -&gt; Maybe Pack -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; [(a, Pack)] -&gt; Maybe Pack
forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">lookup</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679276983"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, Pack)]
</span><a href="#local-6989586621679276984"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">-- General instances</span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276565"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276565"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679276565"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-206"></span><span>    </span><span id="local-6989586621679276996"><span class="annot"><span class="annottext">pack :: [a] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span id="local-6989586621679276997"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679276997"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">[Pack] -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276999"><span class="hs-identifier hs-var">ys</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Int
forall a. [a] -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277000"><span class="hs-identifier hs-var">zs</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Pack] -&gt; Bool
forall a. [a] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276999"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#String"><span class="hs-identifier hs-var">String</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277000"><span class="hs-identifier hs-var">zs</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Pack] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#List"><span class="hs-identifier hs-var">List</span></a></span><span> </span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276999"><span class="hs-identifier hs-var">ys</span></a></span><span>
</span><span id="line-207"></span><span>        </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679276999"><span class="annot"><span class="annottext">ys :: [Pack]
</span><a href="#local-6989586621679276999"><span class="hs-identifier hs-var hs-var">ys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; Pack) -&gt; [a] -&gt; [Pack]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Pack
forall a. Packer a =&gt; a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679276997"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-208"></span><span>              </span><span id="local-6989586621679277000"><span class="annot"><span class="annottext">zs :: String
</span><a href="#local-6989586621679277000"><span class="hs-identifier hs-var hs-var">zs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679277004"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span id="local-6989586621679277004"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679277004"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679276999"><span class="hs-identifier hs-var">ys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621679277007"><span class="annot"><span class="annottext">unpack :: Pack -&gt; [a]
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#String"><span class="hs-identifier hs-type">String</span></a></span><span> </span><span id="local-6989586621679277008"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277008"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; [a]
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; [a]) -&gt; Pack -&gt; [a]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Pack] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#List"><span class="hs-identifier hs-var">List</span></a></span><span> </span><span class="annot"><span class="annottext">([Pack] -&gt; Pack) -&gt; [Pack] -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Pack) -&gt; String -&gt; [Pack]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Char"><span class="hs-identifier hs-var">Char</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277008"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#List"><span class="hs-identifier hs-type">List</span></a></span><span> </span><span id="local-6989586621679277009"><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679277009"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; a) -&gt; [Pack] -&gt; [a]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Pack -&gt; a
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Pack]
</span><a href="#local-6989586621679277009"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-212"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276571"><span id="local-6989586621679276572"><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276571"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276572"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679276571"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679276572"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621679277017"><span class="annot"><span class="annottext">pack :: (a -&gt; b) -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span id="local-6989586621679277018"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679277018"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NoShow (Pack -&gt; Pack) -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Func"><span class="hs-identifier hs-var">Func</span></a></span><span> </span><span class="annot"><span class="annottext">(NoShow (Pack -&gt; Pack) -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack) -&gt; Pack
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack)
forall a. a -&gt; NoShow a
</span><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-var">NoShow</span></a></span><span> </span><span class="annot"><span class="annottext">((Pack -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack))
-&gt; (Pack -&gt; Pack) -&gt; NoShow (Pack -&gt; Pack)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">b -&gt; Pack
forall a. Packer a =&gt; a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Pack) -&gt; (Pack -&gt; b) -&gt; Pack -&gt; Pack
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679277018"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; (Pack -&gt; a) -&gt; Pack -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; a
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span>
</span><span id="line-216"></span><span>    </span><span id="local-6989586621679277021"><span class="annot"><span class="annottext">unpack :: Pack -&gt; a -&gt; b
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Func"><span class="hs-identifier hs-type">Func</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#NoShow"><span class="hs-identifier hs-type">NoShow</span></a></span><span> </span><span id="local-6989586621679277022"><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679277022"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Pack -&gt; b
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; b) -&gt; (a -&gt; Pack) -&gt; a -&gt; b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Pack
</span><a href="#local-6989586621679277022"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(Pack -&gt; Pack) -&gt; (a -&gt; Pack) -&gt; a -&gt; Pack
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Pack
forall a. Packer a =&gt; a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>    </span><span id="local-6989586621679277027"><span class="annot"><span class="annottext">pack :: Value -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-type">Value</span></a></span><span> </span><span id="local-6989586621679277028"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679277028"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Pack
forall a. Packer a =&gt; a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679277028"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-220"></span><span>    </span><span id="local-6989586621679277030"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Value
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277031"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277031"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
</span><a href="System.Console.CmdArgs.Helper.html#Value"><span class="hs-identifier hs-var">Value</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Value) -&gt; Int -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; Int
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277031"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621679277035"><span class="annot"><span class="annottext">pack :: Char -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Char"><span class="hs-identifier hs-var">Char</span></a></span><span>
</span><span id="line-224"></span><span>    </span><span id="local-6989586621679277036"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Char
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Char"><span class="hs-identifier hs-type">Char</span></a></span><span> </span><span id="local-6989586621679277037"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679277037"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679277037"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span>
</span><span id="line-226"></span><span>
</span><span id="line-227"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>    </span><span id="local-6989586621679277040"><span class="annot"><span class="annottext">pack :: Int -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Int"><span class="hs-identifier hs-var">Int</span></a></span><span>
</span><span id="line-229"></span><span>    </span><span id="local-6989586621679277043"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Int
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Int"><span class="hs-identifier hs-type">Int</span></a></span><span> </span><span id="local-6989586621679277044"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679277044"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679277044"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276575"><span id="local-6989586621679276576"><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276575"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276576"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679276575"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span class="annot"><a href="#local-6989586621679276576"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-233"></span><span>    </span><span id="local-6989586621679277052"><span class="annot"><span class="annottext">pack :: (a, b) -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679277053"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679277053"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679277054"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679277054"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(,)&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; a -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fst&quot;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679277053"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; b -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;snd&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679277054"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-234"></span><span>    </span><span id="local-6989586621679277060"><span class="annot"><span class="annottext">unpack :: Pack -&gt; (a, b)
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277061"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277061"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; a
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fst&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277062"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; b
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;snd&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277062"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>        </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679277062"><span class="annot"><span class="annottext">y :: [(String, Pack)]
</span><a href="#local-6989586621679277062"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(,)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277061"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276578"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276578"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679276578"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-238"></span><span>    </span><span id="local-6989586621679277068"><span class="annot"><span class="annottext">pack :: Maybe a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Nothing&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-239"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679277069"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679277069"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Just&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; a -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromJust&quot;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679277069"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-240"></span><span>    </span><span id="local-6989586621679277073"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Maybe a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277074"><span class="annot"><span class="annottext">x :: Pack
</span><a href="#local-6989586621679277074"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-type">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Just&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe a
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Maybe a) -&gt; a -&gt; Maybe a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; a
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromJust&quot;</span></span><span> </span><span class="annot"><span class="annottext">([(String, Pack)] -&gt; a) -&gt; [(String, Pack)] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Just&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277074"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276581"><span id="local-6989586621679276582"><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276581"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276582"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679276581"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276582"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621679277082"><span class="annot"><span class="annottext">pack :: Either a b -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span id="local-6989586621679277083"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679277083"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Left&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; a -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromLeft&quot;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679277083"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679277084"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679277084"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Right&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; b -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromRight&quot;</span></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679277084"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-246"></span><span>    </span><span id="local-6989586621679277091"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Either a b
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277092"><span class="annot"><span class="annottext">x :: Pack
</span><a href="#local-6989586621679277092"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-type">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Left&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; a -&gt; Either a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; a
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromLeft&quot;</span></span><span> </span><span class="annot"><span class="annottext">([(String, Pack)] -&gt; a) -&gt; [(String, Pack)] -&gt; a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Left&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277092"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span id="local-6989586621679277093"><span class="annot"><span class="annottext">x :: Pack
</span><a href="#local-6989586621679277093"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-type">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Right&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either a b
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">(b -&gt; Either a b) -&gt; b -&gt; Either a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; b
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromRight&quot;</span></span><span> </span><span class="annot"><span class="annottext">([(String, Pack)] -&gt; b) -&gt; [(String, Pack)] -&gt; b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Right&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277093"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a b
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a b) -&gt; a -&gt; Either a b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Pack -&gt; a
forall a. Packer a =&gt; Pack -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="System.Console.CmdArgs.Helper.html#None"><span class="hs-identifier hs-var">None</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-251"></span><span>    </span><span id="local-6989586621679277097"><span class="annot"><span class="annottext">pack :: Bool -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;True&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;False&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-253"></span><span>    </span><span id="local-6989586621679277098"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Bool
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-type">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;True&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-254"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span>
</span><span id="line-257"></span><span class="hs-comment">-- CmdArgs specific</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276585"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276585"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Group"><span class="hs-identifier hs-type">Group</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276585"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>    </span><span id="local-6989586621679277109"><span class="annot"><span class="annottext">pack :: Group a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Group"><span class="hs-identifier hs-type">Group</span></a></span><span class="hs-special">{</span><span id="local-6989586621679277111"><span id="local-6989586621679277112"><span id="local-6989586621679277113"><span class="annot"><span class="annottext">[a]
[(String, [a])]
groupUnnamed :: [a]
groupHidden :: [a]
groupNamed :: [(String, [a])]
groupUnnamed :: forall a. Group a -&gt; [a]
groupHidden :: forall a. Group a -&gt; [a]
groupNamed :: forall a. Group a -&gt; [(String, [a])]
</span><a href="#local-6989586621679277111"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Group&quot;</span></span><span>
</span><span id="line-261"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; [a] -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;groupUnnamed&quot;</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679277111"><span class="hs-identifier hs-var">groupUnnamed</span></a></span><span>
</span><span id="line-262"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; [a] -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;groupHidden&quot;</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679277112"><span class="hs-identifier hs-var">groupHidden</span></a></span><span>
</span><span id="line-263"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; [(String, [a])] -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;groupNamed&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, [a])]
</span><a href="#local-6989586621679277113"><span class="hs-identifier hs-var">groupNamed</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-264"></span><span>    </span><span id="local-6989586621679277127"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Group a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277128"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277128"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679277129"><span class="annot"><span class="annottext">y :: [(String, Pack)]
</span><a href="#local-6989586621679277129"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Group&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277128"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Group"><span class="hs-identifier hs-type">Group</span></a></span><span>
</span><span id="line-265"></span><span>        </span><span class="hs-special">{</span><span class="annot"><span class="annottext">groupUnnamed :: [a]
</span><a href="System.Console.CmdArgs.Explicit.Type.html#groupUnnamed"><span class="hs-identifier hs-var">groupUnnamed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; [a]
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;groupUnnamed&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277129"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">groupHidden :: [a]
</span><a href="System.Console.CmdArgs.Explicit.Type.html#groupHidden"><span class="hs-identifier hs-var">groupHidden</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; [a]
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;groupHidden&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277129"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-267"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">groupNamed :: [(String, [a])]
</span><a href="System.Console.CmdArgs.Explicit.Type.html#groupNamed"><span class="hs-identifier hs-var">groupNamed</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; [(String, [a])]
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;groupNamed&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277129"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276452"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276452"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276452"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>    </span><span id="local-6989586621679277154"><span class="annot"><span class="annottext">pack :: Mode a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span class="hs-special">{</span><span id="local-6989586621679277155"><span id="local-6989586621679277156"><span id="local-6989586621679277157"><span id="local-6989586621679277158"><span id="local-6989586621679277159"><span id="local-6989586621679277160"><span id="local-6989586621679277161"><span id="local-6989586621679277162"><span id="local-6989586621679277163"><span id="local-6989586621679277164"><span class="annot"><span class="annottext">a
Bool
String
[String]
([Arg a], Maybe (Arg a))
Group (Flag a)
Group (Mode a)
a -&gt; Maybe [String]
a -&gt; Either String a
modeGroupModes :: Group (Mode a)
modeNames :: [String]
modeValue :: a
modeCheck :: a -&gt; Either String a
modeReform :: a -&gt; Maybe [String]
modeExpandAt :: Bool
modeHelp :: String
modeHelpSuffix :: [String]
modeArgs :: ([Arg a], Maybe (Arg a))
modeGroupFlags :: Group (Flag a)
modeGroupModes :: forall a. Mode a -&gt; Group (Mode a)
modeNames :: forall a. Mode a -&gt; [String]
modeValue :: forall a. Mode a -&gt; a
modeCheck :: forall a. Mode a -&gt; a -&gt; Either String a
modeReform :: forall a. Mode a -&gt; a -&gt; Maybe [String]
modeExpandAt :: forall a. Mode a -&gt; Bool
modeHelp :: forall a. Mode a -&gt; String
modeHelpSuffix :: forall a. Mode a -&gt; [String]
modeArgs :: forall a. Mode a -&gt; ([Arg a], Maybe (Arg a))
modeGroupFlags :: forall a. Mode a -&gt; Group (Flag a)
</span><a href="#local-6989586621679277155"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Mode&quot;</span></span><span>
</span><span id="line-271"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; Group (Mode a) -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeGroupModes&quot;</span></span><span> </span><span class="annot"><span class="annottext">Group (Mode a)
</span><a href="#local-6989586621679277155"><span class="hs-identifier hs-var">modeGroupModes</span></a></span><span>
</span><span id="line-272"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeNames&quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679277156"><span class="hs-identifier hs-var">modeNames</span></a></span><span>
</span><span id="line-273"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; String -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeHelp&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277161"><span class="hs-identifier hs-var">modeHelp</span></a></span><span>
</span><span id="line-274"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeHelpSuffix&quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679277162"><span class="hs-identifier hs-var">modeHelpSuffix</span></a></span><span>
</span><span id="line-275"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; ([Arg a], Maybe (Arg a)) -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeArgs&quot;</span></span><span> </span><span class="annot"><span class="annottext">([Arg a], Maybe (Arg a))
</span><a href="#local-6989586621679277163"><span class="hs-identifier hs-var">modeArgs</span></a></span><span>
</span><span id="line-276"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; Group (Flag a) -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeGroupFlags&quot;</span></span><span> </span><span class="annot"><span class="annottext">Group (Flag a)
</span><a href="#local-6989586621679277164"><span class="hs-identifier hs-var">modeGroupFlags</span></a></span><span>
</span><span id="line-277"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; a -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679277157"><span class="hs-identifier hs-var">modeValue</span></a></span><span>
</span><span id="line-278"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; (a -&gt; Either String a) -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeCheck&quot;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either String a
</span><a href="#local-6989586621679277158"><span class="hs-identifier hs-var">modeCheck</span></a></span><span>
</span><span id="line-279"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; (a -&gt; Maybe [String]) -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeReform&quot;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Maybe [String]
</span><a href="#local-6989586621679277159"><span class="hs-identifier hs-var">modeReform</span></a></span><span>
</span><span id="line-280"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; Bool -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeExpandAt&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679277160"><span class="hs-identifier hs-var">modeExpandAt</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-281"></span><span>    </span><span id="local-6989586621679277205"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Mode a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277206"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277206"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679277207"><span class="annot"><span class="annottext">y :: [(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Mode&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277206"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Mode"><span class="hs-identifier hs-type">Mode</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="hs-special">{</span><span class="annot"><span class="annottext">modeGroupModes :: Group (Mode a)
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeGroupModes"><span class="hs-identifier hs-var">modeGroupModes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Group (Mode a)
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeGroupModes&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-283"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeNames :: [String]
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeNames"><span class="hs-identifier hs-var">modeNames</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; [String]
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeNames&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeHelp :: String
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeHelp"><span class="hs-identifier hs-var">modeHelp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; String
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeHelp&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeHelpSuffix :: [String]
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeHelpSuffix"><span class="hs-identifier hs-var">modeHelpSuffix</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; [String]
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeHelpSuffix&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeArgs :: ([Arg a], Maybe (Arg a))
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeArgs"><span class="hs-identifier hs-var">modeArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; ([Arg a], Maybe (Arg a))
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeArgs&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeGroupFlags :: Group (Flag a)
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeGroupFlags"><span class="hs-identifier hs-var">modeGroupFlags</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Group (Flag a)
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeGroupFlags&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-288"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeValue :: a
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeValue"><span class="hs-identifier hs-var">modeValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; a
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-289"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeCheck :: a -&gt; Either String a
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeCheck"><span class="hs-identifier hs-var">modeCheck</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; a -&gt; Either String a
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeCheck&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-290"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeReform :: a -&gt; Maybe [String]
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeReform"><span class="hs-identifier hs-var">modeReform</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; a -&gt; Maybe [String]
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeReform&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-291"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">modeExpandAt :: Bool
</span><a href="System.Console.CmdArgs.Explicit.Type.html#modeExpandAt"><span class="hs-identifier hs-var">modeExpandAt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Bool
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;modeExpandAt&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277207"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276592"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276592"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276592"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-294"></span><span>    </span><span id="local-6989586621679277221"><span class="annot"><span class="annottext">pack :: Flag a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span class="hs-special">{</span><span id="local-6989586621679277223"><span id="local-6989586621679277224"><span id="local-6989586621679277225"><span id="local-6989586621679277226"><span id="local-6989586621679277227"><span class="annot"><span class="annottext">String
[String]
FlagInfo
Update a
flagNames :: [String]
flagInfo :: FlagInfo
flagValue :: Update a
flagType :: String
flagHelp :: String
flagNames :: forall a. Flag a -&gt; [String]
flagInfo :: forall a. Flag a -&gt; FlagInfo
flagValue :: forall a. Flag a -&gt; Update a
flagType :: forall a. Flag a -&gt; String
flagHelp :: forall a. Flag a -&gt; String
</span><a href="#local-6989586621679277223"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Flag&quot;</span></span><span>
</span><span id="line-295"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagNames&quot;</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679277223"><span class="hs-identifier hs-var">flagNames</span></a></span><span>
</span><span id="line-296"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; FlagInfo -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagInfo&quot;</span></span><span> </span><span class="annot"><span class="annottext">FlagInfo
</span><a href="#local-6989586621679277224"><span class="hs-identifier hs-var">flagInfo</span></a></span><span>
</span><span id="line-297"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; String -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagType&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277226"><span class="hs-identifier hs-var">flagType</span></a></span><span>
</span><span id="line-298"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; String -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagHelp&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277227"><span class="hs-identifier hs-var">flagHelp</span></a></span><span>
</span><span id="line-299"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; Update a -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">Update a
</span><a href="#local-6989586621679277225"><span class="hs-identifier hs-var">flagValue</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-300"></span><span>    </span><span id="local-6989586621679277248"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Flag a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277249"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277249"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679277250"><span class="annot"><span class="annottext">y :: [(String, Pack)]
</span><a href="#local-6989586621679277250"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Flag&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277249"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Flag"><span class="hs-identifier hs-type">Flag</span></a></span><span>
</span><span id="line-301"></span><span>        </span><span class="hs-special">{</span><span class="annot"><span class="annottext">flagNames :: [String]
</span><a href="System.Console.CmdArgs.Explicit.Type.html#flagNames"><span class="hs-identifier hs-var">flagNames</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; [String]
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagNames&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277250"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-302"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">flagInfo :: FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#flagInfo"><span class="hs-identifier hs-var">flagInfo</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; FlagInfo
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagInfo&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277250"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-303"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">flagType :: String
</span><a href="System.Console.CmdArgs.Explicit.Type.html#flagType"><span class="hs-identifier hs-var">flagType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; String
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagType&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277250"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">flagHelp :: String
</span><a href="System.Console.CmdArgs.Explicit.Type.html#flagHelp"><span class="hs-identifier hs-var">flagHelp</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; String
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagHelp&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277250"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-305"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">flagValue :: Update a
</span><a href="System.Console.CmdArgs.Explicit.Type.html#flagValue"><span class="hs-identifier hs-var">flagValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Update a
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;flagValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277250"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679276591"><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276591"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679276591"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-308"></span><span>    </span><span id="local-6989586621679277260"><span class="annot"><span class="annottext">pack :: Arg a -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span class="hs-special">{</span><span id="local-6989586621679277262"><span id="local-6989586621679277263"><span id="local-6989586621679277264"><span class="annot"><span class="annottext">Bool
String
Update a
argValue :: Update a
argType :: String
argRequire :: Bool
argValue :: forall a. Arg a -&gt; Update a
argType :: forall a. Arg a -&gt; String
argRequire :: forall a. Arg a -&gt; Bool
</span><a href="#local-6989586621679277262"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Arg&quot;</span></span><span>
</span><span id="line-309"></span><span>        </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; String -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;argType&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277263"><span class="hs-identifier hs-var">argType</span></a></span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; Bool -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;argRequire&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679277264"><span class="hs-identifier hs-var">argRequire</span></a></span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String -&gt; Update a -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;argValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">Update a
</span><a href="#local-6989586621679277262"><span class="hs-identifier hs-var">argValue</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-312"></span><span>    </span><span id="local-6989586621679277278"><span class="annot"><span class="annottext">unpack :: Pack -&gt; Arg a
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277279"><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277279"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679277280"><span class="annot"><span class="annottext">y :: [(String, Pack)]
</span><a href="#local-6989586621679277280"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Arg&quot;</span></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277279"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">in</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#Arg"><span class="hs-identifier hs-type">Arg</span></a></span><span>
</span><span id="line-313"></span><span>        </span><span class="hs-special">{</span><span class="annot"><span class="annottext">argType :: String
</span><a href="System.Console.CmdArgs.Explicit.Type.html#argType"><span class="hs-identifier hs-var">argType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; String
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;argType&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277280"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-314"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">argRequire :: Bool
</span><a href="System.Console.CmdArgs.Explicit.Type.html#argRequire"><span class="hs-identifier hs-var">argRequire</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Bool
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;argRequire&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277280"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-special">,</span><span class="annot"><span class="annottext">argValue :: Update a
</span><a href="System.Console.CmdArgs.Explicit.Type.html#argValue"><span class="hs-identifier hs-var">argValue</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Update a
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;argValue&quot;</span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><a href="#local-6989586621679277280"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Packer"><span class="hs-identifier hs-type">Packer</span></a></span><span> </span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#FlagInfo"><span class="hs-identifier hs-type">FlagInfo</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621679277286"><span class="annot"><span class="annottext">pack :: FlagInfo -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var hs-var hs-var hs-var">pack</span></a></span></span><span> </span><span class="annot"><span class="annottext">FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#FlagReq"><span class="hs-identifier hs-var">FlagReq</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagReq&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-319"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#FlagOpt"><span class="hs-identifier hs-type">FlagOpt</span></a></span><span> </span><span id="local-6989586621679277289"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277289"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagOpt&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; String -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromFlagOpt&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277289"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Explicit.Type.html#FlagOptRare"><span class="hs-identifier hs-type">FlagOptRare</span></a></span><span> </span><span id="local-6989586621679277291"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277291"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagOptRare&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String -&gt; String -&gt; (String, Pack)
forall {a} {a}. Packer a =&gt; a -&gt; a -&gt; (a, Pack)
</span><a href="System.Console.CmdArgs.Helper.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromFlagOpt&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277291"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#pack"><span class="hs-identifier hs-var">pack</span></a></span><span> </span><span class="annot"><span class="annottext">FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#FlagNone"><span class="hs-identifier hs-var">FlagNone</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; Pack
</span><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-var">Ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagNone&quot;</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-322"></span><span>    </span><span id="local-6989586621679277299"><span class="annot"><span class="annottext">unpack :: Pack -&gt; FlagInfo
</span><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var hs-var hs-var hs-var">unpack</span></a></span></span><span> </span><span id="local-6989586621679277300"><span class="annot"><span class="annottext">x :: Pack
</span><a href="#local-6989586621679277300"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#Ctor"><span class="hs-identifier hs-type">Ctor</span></a></span><span> </span><span id="local-6989586621679277301"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277301"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">[(String, Pack)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277301"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-323"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagReq&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#FlagReq"><span class="hs-identifier hs-var">FlagReq</span></a></span><span>
</span><span id="line-324"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagOpt&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#FlagOpt"><span class="hs-identifier hs-var">FlagOpt</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FlagInfo) -&gt; String -&gt; FlagInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; String
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromFlagOpt&quot;</span></span><span> </span><span class="annot"><span class="annottext">([(String, Pack)] -&gt; String) -&gt; [(String, Pack)] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277301"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277300"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-325"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagOptRare&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#FlagOptRare"><span class="hs-identifier hs-var">FlagOptRare</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; FlagInfo) -&gt; String -&gt; FlagInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; [(String, Pack)] -&gt; String
forall {a} {a}. (Packer a, Eq a) =&gt; a -&gt; [(a, Pack)] -&gt; a
</span><a href="System.Console.CmdArgs.Helper.html#get"><span class="hs-identifier hs-var">get</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;fromFlagOpt&quot;</span></span><span> </span><span class="annot"><span class="annottext">([(String, Pack)] -&gt; String) -&gt; [(String, Pack)] -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Pack -&gt; [(String, Pack)]
</span><a href="System.Console.CmdArgs.Helper.html#ctor"><span class="hs-identifier hs-var">ctor</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679277301"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><a href="#local-6989586621679277300"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-326"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FlagNone&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#FlagNone"><span class="hs-identifier hs-var">FlagNone</span></a></span><span>
</span><span id="line-327"></span><span>    </span><span class="annot"><a href="System.Console.CmdArgs.Helper.html#unpack"><span class="hs-identifier hs-var">unpack</span></a></span><span> </span><span class="annot"><span class="annottext">Pack
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FlagInfo
</span><a href="System.Console.CmdArgs.Explicit.Type.html#FlagNone"><span class="hs-identifier hs-var">FlagNone</span></a></span><span>
</span><span id="line-328"></span></pre></body></html>